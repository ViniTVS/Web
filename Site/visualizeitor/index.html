<!doctype html>
<html lang="pt_BR">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap import -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <!-- Tema Minty do Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.2.3/dist/minty/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="../styles.css">

  <title>Visualizeitor</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <!--  <script type="text/javascript" src="Canvas.js"></script> -->
  <script type="text/javascript" src="Alunos.js"></script>
  <script type="text/javascript" src="Materias.js"></script>
  <script type="text/javascript" src="utils.js"></script>
</head>

<body class="container-fluid">
  <main class="row" style="height: 100vh;">
    <!-- Menu lateral esquerdo -->
    <aside class="col-6 col-sm-4 col-lg-3 col-4 text-center bg-dark p-0 m-0">
      <div class="d-flex flex-column mx-4 justify-content-between py-2" id="nav">
        <!-- Não consigo deixar o gif proporcional sem deixar dentro de uma div :( -->
        <div id="bongo_cat"><img alt="Bongocat" src="../bongo_cat.gif" /></div>
        <nav class="nav nav-pills flex-column">
          <a class="flex-sm-fill text-sm-center nav-link" href="../index.html"> Principal
          </a>
          <a class="flex-sm-fill text-sm-center nav-link" href="../redes2.html">
            Trabalho de redes 2 </a>
          <a class="flex-sm-fill text-sm-center nav-link" href="../banco_de_dados.html"> Banco de Dados usando
            ActiveRecord</a>
          <a class="flex-sm-fill text-sm-center nav-link" href="../processador_de_retas/index.html">
            Processador de retas e polígonos</a>
          <a class="flex-sm-fill text-sm-center nav-link active" aria-current="true" href="visualizeitor/index.html">
            Visualizeitor </a>
          <a class="flex-sm-fill text-sm-center nav-link disabled"> Aplicação Rails </a>
          <a class="flex-sm-fill text-sm-center nav-link" href="../contato.html">
            Contato
          </a>
        </nav>

        <footer style="font-size: 0.8rem;">
          Projetado e desenvolvido por Vinícius Teixeira Vieira dos Santos
        </footer>
      </div>
    </aside>
    <!-- Conteúdo principal (direita) -->
    <section class="col" style="max-height: 100vh; overflow: auto; margin: auto; width: 100%;">
      <h1>Visualizeitor</h1>
      <!-- upload de arquivo -->
      <form id="upload-arquivo" method=POST enctype="multipart/form-data">
        <label for="arquivo">Selecionar arquivo de alunos </label>
        <input id="arquivo" name="arquivo" type="file" accept=".xml" />
        <input type="submit" class="btn btn-primary" value="Atualizar" />
      </form>

      <!-- Seletor -->
      <div class="row row-cols-sm-auto g-3 align-items-center justify-content-start">
        <span style="padding: 0;">
          Selecionar aluno&nbsp;
        </span>
        <div class="col" style="padding: 0;">
          <select class="form-select" id="sidesInput">
            <option value="3" selected>3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
          </select>
        </div>
      </div>

      <h2>Obrigatórias</h2>
      <table class="d-none d-sm-block table table-bordered border-primary" style="margin: auto;">
        <thead>
          <tr>
            <th>1º</th>
            <th>2º</th>
            <th>3º</th>
            <th>4º</th>
            <th>5º</th>
            <th>6º</th>
            <th>7º</th>
            <th>8º</th>
          </tr>
        </thead>
        <tbody id="obrigatorias">
          <tr>
            <td> CI068 </td>
          </tr>
          <tr>
          </tr>
          <tr>
          </tr>
          <tr>
          </tr>
        </tbody>
      </table>


      <h2>Outras Disciplinas</h2>
      <table class="d-none d-sm-block table table-bordered border-primary">
        <tbody id="outras">
          <tr>
            <td> CI068 </td>
          </tr>
          <tr>
          </tr>
          <tr>
          </tr>
          <tr>
          </tr>
        </tbody>
      </table>


    </section>
  </main>
</body>

</html>

<style>
  /* ------------------- tabela ------------------------ */

  table td {
    color: black;
    text-align: center;
  }

  table th {
    text-align: center;
    background-color: var(--bs-primary) !important;
    color: white;
  }


  .aprovado {
    color: white;
    background-color: green !important;

  }

  .reprovado {
    color: white;
    background-color: red !important;

  }

  .matriculado {
    color: white;
    background-color: blue !important;

  }

  .equivalencia {
    color: white;
    background-color: green !important;

  }
</style>

<script type="text/javascript">

  const ALUNOS = new Alunos();

  const OBRIGATORIAS = $("#obrigatorias");
  const OUTRAS = $("#outras");

  desenhaGrade(OBRIGATORIAS, OUTRAS);

  // https://stackoverflow.com/questions/20853219/how-to-read-xml-file-using-filereader-javascript
  $("#upload-arquivo").submit(function (e) {
    e.preventDefault();
    var file = document.getElementById("arquivo").files[0];
    if (!file) return;

    leArquivo(file, ALUNOS);
  });




</script>